"use strict";(self.webpackChunkdocs_site=self.webpackChunkdocs_site||[]).push([[330],{2330:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>i,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"usage-example","title":"\ud83d\udcd6 \u4f7f\u7528\u7bc4\u4f8b","description":"\u6b64\u9801\u5c55\u793a mostir.config.mjs \u7684\u9032\u968e\u7528\u6cd5\u3002","source":"@site/i18n/zh-TW/docusaurus-plugin-content-docs/current/usage-example.md","sourceDirName":".","slug":"/usage-example","permalink":"/mostir/zh-TW/docs/usage-example","draft":false,"unlisted":false,"editUrl":"https://github.com/SigismundBT/mostir/docs/usage-example.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"\ud83d\udee0 \u6307\u4ee4","permalink":"/mostir/zh-TW/docs/commands"},"next":{"title":"\u2699\ufe0f \u8a2d\u5b9a","permalink":"/mostir/zh-TW/docs/config"}}');var t=s(1273),o=s(9396);const i={},l="\ud83d\udcd6 \u4f7f\u7528\u7bc4\u4f8b",c={},d=[{value:"\u8a2d\u5b9a\u6a94\u5efa\u7acb",id:"\u8a2d\u5b9a\u6a94\u5efa\u7acb",level:2},{value:"\u642d\u914d <code>fast-glob</code> \u4f7f\u7528 glob \u6a23\u5f0f",id:"\u642d\u914d-fast-glob-\u4f7f\u7528-glob-\u6a23\u5f0f",level:2},{value:"\u6ce8\u610f\u4e8b\u9805",id:"\u6ce8\u610f\u4e8b\u9805",level:2}];function a(e){const n={a:"a",br:"br",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"-\u4f7f\u7528\u7bc4\u4f8b",children:"\ud83d\udcd6 \u4f7f\u7528\u7bc4\u4f8b"})}),"\n",(0,t.jsxs)(n.p,{children:["\u6b64\u9801\u5c55\u793a ",(0,t.jsx)(n.code,{children:"mostir.config.mjs"})," \u7684\u9032\u968e\u7528\u6cd5\u3002"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"\u8a2d\u5b9a\u6a94\u5efa\u7acb",children:"\u8a2d\u5b9a\u6a94\u5efa\u7acb"}),"\n",(0,t.jsxs)(n.p,{children:["\u4e0d\u9700\u8981\u6bcf\u6b21\u90fd\u900f\u904e ",(0,t.jsx)(n.code,{children:"mostir init"})," \u4f86\u7522\u751f\u65b0\u7684 ",(0,t.jsx)(n.code,{children:"mostir.config.mjs"}),"\uff0c\r\n\u53ef\u4ee5\u76f4\u63a5\u5f9e\u5176\u4ed6\u5c08\u6848\uff08\u6216\u7bc4\u672c\uff09\u8907\u88fd\u4e00\u4efd\uff0c\u518d\u4f9d\u7167\u9700\u6c42\u8abf\u6574\u8a2d\u5b9a\u3002"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\u7bc4\u4f8b"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/SigismundBT/mostir/",children:"mostir Github Repository"}),"\uff0cmostir \u672c\u8eab\u5c31\u662f\u7528 mostir build \u642d\u914d\u81ea\u5df1\u7684\u8a2d\u5b9a\u6a94\u5efa\u7f6e\u7684\u3002"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsxs)(n.h2,{id:"\u642d\u914d-fast-glob-\u4f7f\u7528-glob-\u6a23\u5f0f",children:["\u642d\u914d ",(0,t.jsx)(n.code,{children:"fast-glob"})," \u4f7f\u7528 glob \u6a23\u5f0f"]}),"\n",(0,t.jsxs)(n.p,{children:["\u9810\u8a2d\u60c5\u6cc1\u4e0b\uff0c\u4f60\u53ef\u4ee5\u76f4\u63a5\u5c07 glob \u5b57\u4e32\u50b3\u7d66 ",(0,t.jsx)(n.code,{children:"entryPoints"}),"\u3002",(0,t.jsx)(n.br,{}),"\n","\u82e5\u9700\u8981\u66f4\u9032\u968e\u7684\u7be9\u9078\uff0c\u53ef\u4ee5\u4f7f\u7528 ",(0,t.jsx)(n.a,{href:"https://github.com/mrmlnc/fast-glob",children:"fast-glob"})," \u624b\u52d5\u89e3\u6790 entry points\u3002"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:'// mostir.config.mjs\r\nimport fg from "fast-glob";\r\n\r\nconst ignore = ["**/*.test.ts", "**/__tests__/**", "**/*.d.ts"];\r\n\r\n// \u6216\u8005\uff0c\u4f7f\u7528 fast-glob \u89e3\u6790 entry points \u4ee5\u9032\u884c\u9032\u968e\u7be9\u9078\r\nconst entryPoints = await fg("src/**/*.ts", {\r\n  cwd: process.cwd(),\r\n  absolute: true,\r\n  onlyFiles: true,\r\n  ignore,\r\n});\r\n\r\nexport default {\r\n  build: {\r\n    entryPoints,\r\n    outdir: "dist",\r\n    bundle: false,\r\n    platform: "node",\r\n    target: "esnext",\r\n    format: "esm",\r\n    logLevel: "info",\r\n    outbase: "src",\r\n    metafile: true,\r\n  },\r\n  ignore,\r\n};\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"\u6ce8\u610f\u4e8b\u9805",children:"\u6ce8\u610f\u4e8b\u9805"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\u4f7f\u7528 fast-glob \u6642\u5efa\u8b70\u642d\u914d ",(0,t.jsx)(n.code,{children:"absolute: true"}),"\uff0c\u4ee5\u78ba\u4fdd esbuild \u63a5\u6536\u5230\u5b8c\u6574\u89e3\u6790\u8def\u5f91\u3002"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"ignore"})," \u9663\u5217\u53ef\u540c\u6642\u7528\u65bc ",(0,t.jsx)(n.code,{children:"fast-glob"})," \u8207 mostir \u7684 ",(0,t.jsx)(n.code,{children:"ignore"})," \u9078\u9805\u3002"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"ignore"})," \u6a21\u5f0f\u7279\u5225\u9069\u5408\u5728\u9700\u8981\u66f4\u7cbe\u7d30\u63a7\u5236\u5305\u542b/\u6392\u9664\u6a94\u6848\u7684\u60c5\u5883\u4f7f\u7528\uff08\u4f8b\u5982 monorepo \u5c08\u6848\uff09\u3002"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},9396:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>l});var r=s(3917);const t={},o=r.createContext(t);function i(e){const n=r.useContext(o);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),r.createElement(o.Provider,{value:n},e.children)}}}]);